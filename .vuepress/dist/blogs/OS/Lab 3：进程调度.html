<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.14">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/logo.png"><title>Lab 3：进程调度 | byml's blog</title><meta name="description" content="byml's blog">
    <link rel="preload" href="/assets/style-NmqtuK-L.css" as="style"><link rel="stylesheet" href="/assets/style-NmqtuK-L.css">
    <link rel="modulepreload" href="/assets/app-cWQpaTe1.js"><link rel="modulepreload" href="/assets/Lab 3：进程调度.html-Bu24yGHD.js">
    <link rel="prefetch" href="/assets/timeline.html-D4oDKv3p.js" as="script"><link rel="prefetch" href="/assets/posts.html-BOW9cwRi.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-Cluyjzd8.js" as="script"><link rel="prefetch" href="/assets/friendship.html-CEp7D8Ly.js" as="script"><link rel="prefetch" href="/assets/about.html-D60VkNfQ.js" as="script"><link rel="prefetch" href="/assets/full-about.html-DWzk1H6q.js" as="script"><link rel="prefetch" href="/assets/1.html-qB_pqU4I.js" as="script"><link rel="prefetch" href="/assets/1.html-BEIfcDp3.js" as="script"><link rel="prefetch" href="/assets/1.html-DXrKmeG0.js" as="script"><link rel="prefetch" href="/assets/1.html-CxWnQW5o.js" as="script"><link rel="prefetch" href="/assets/1.html-CcpqknBn.js" as="script"><link rel="prefetch" href="/assets/1.html-HvyRabCq.js" as="script"><link rel="prefetch" href="/assets/1.html-KlJA_9JI.js" as="script"><link rel="prefetch" href="/assets/1.html-TMSY7cZs.js" as="script"><link rel="prefetch" href="/assets/1.html-Dc-MEUTj.js" as="script"><link rel="prefetch" href="/assets/2.html-Dcr4zBLh.js" as="script"><link rel="prefetch" href="/assets/3.html-XmcwwEGZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CZWeDYdV.js" as="script"><link rel="prefetch" href="/assets/Rasterization.html-I1B5aXlJ.js" as="script"><link rel="prefetch" href="/assets/Transform.html-DIetUVwI.js" as="script"><link rel="prefetch" href="/assets/Lecture 1 - Introduction.html-CRgNGDHr.js" as="script"><link rel="prefetch" href="/assets/Lecture 2 - Classification.html-CCgCZVk0.js" as="script"><link rel="prefetch" href="/assets/Lecture 3 - Loss Function and Optmizatoin.html-DP8rFVjz.js" as="script"><link rel="prefetch" href="/assets/Lecture 4 - Backpropagation and Neural Networks.html-CDYfbGdD.js" as="script"><link rel="prefetch" href="/assets/Lecture 5 - Convolutional Neural Network.html-CpXfAOpF.js" as="script"><link rel="prefetch" href="/assets/Lecture 6 - Training Neural Networks.html-BStH77ny.js" as="script"><link rel="prefetch" href="/assets/Lecture 7 - Training Neural Networks.html-JK_QORjs.js" as="script"><link rel="prefetch" href="/assets/NumPy 学习.html-CXX6Hoeb.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-X3nYEFcN.js" as="script"><link rel="prefetch" href="/assets/Ubuntu 24.04.html-Bd5WC2DH.js" as="script"><link rel="prefetch" href="/assets/Vim.html-BL9e9_KY.js" as="script"><link rel="prefetch" href="/assets/网站折腾实录.html-DmoNG-85.js" as="script"><link rel="prefetch" href="/assets/GDB 调试 _ VSCode 调试.html-DKv-Rajp.js" as="script"><link rel="prefetch" href="/assets/Lab 1：PC，启动.html-Do1F8IFk.js" as="script"><link rel="prefetch" href="/assets/Lab 2：从内核到用户.html-DZLIe9cT.js" as="script"><link rel="prefetch" href="/assets/Lab 4：并发控制.html-pbfoZ6vz.js" as="script"><link rel="prefetch" href="/assets/数字系统设计基础.html-B3ZjMaJP.js" as="script"><link rel="prefetch" href="/assets/第 2 章 数字逻辑基础.html-DyykYcoj.js" as="script"><link rel="prefetch" href="/assets/第 3 章 组合逻辑电路.html-B6wwJg_5.js" as="script"><link rel="prefetch" href="/assets/第 4 章 时序逻辑电路.html-B2Zo1duY.js" as="script"><link rel="prefetch" href="/assets/第 5 章 可编程逻辑器件.html-CNPwdmI1.js" as="script"><link rel="prefetch" href="/assets/第 6 章 运算方法和运算部件.html-DI2dZN3F.js" as="script"><link rel="prefetch" href="/assets/第 7 章 指令系统.html-DZd5k73i.js" as="script"><link rel="prefetch" href="/assets/第 8 章 中央处理器.html-UuaAO9fc.js" as="script"><link rel="prefetch" href="/assets/404.html-CLz5wXXd.js" as="script"><link rel="prefetch" href="/assets/Valine.min-Cg9XxMv-.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-CKTvSCx2.js" as="script"><link rel="prefetch" href="/assets/AboutLayout-CyTjBDkp.js" as="script"><link rel="prefetch" href="/assets/FriendshipLayout-VQhnQhZC.js" as="script"><link rel="prefetch" href="/assets/FullAboutLayout-BjWERxdt.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-BK0QgvNN.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="byml&#39;s blog"><a href="/" class="site-name can-hide">byml&#39;s blog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="课程笔记"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M19 10h7v2h-7z" fill="currentColor"></path><path d="M19 15h7v2h-7z" fill="currentColor"></path><path d="M19 20h7v2h-7z" fill="currentColor"></path><path d="M28 5H4a2.002 2.002 0 0 0-2 2v18a2.002 2.002 0 0 0 2 2h24a2.003 2.003 0 0 0 2-2V7a2.002 2.002 0 0 0-2-2zM4 7h11v18H4zm13 18V7h11l.002 18z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->课程笔记<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="课程笔记"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M19 10h7v2h-7z" fill="currentColor"></path><path d="M19 15h7v2h-7z" fill="currentColor"></path><path d="M19 20h7v2h-7z" fill="currentColor"></path><path d="M28 5H4a2.002 2.002 0 0 0-2 2v18a2.002 2.002 0 0 0 2 2h24a2.003 2.003 0 0 0 2-2V7a2.002 2.002 0 0 0-2-2zM4 7h11v18H4zm13 18V7h11l.002 18z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->课程笔记<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/categories/数字系统设计基础/1.html" class="link" aria-label="数字系统设计基础"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->数字系统设计基础<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/categories/CV/1.html" class="link" aria-label="CV"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CV<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/categories/OS/1.html" class="link" aria-label="OS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->OS<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="技术博客"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M4 24h10v2H4z" fill="currentColor"></path><path d="M4 18h10v2H4z" fill="currentColor"></path><path d="M26 14H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zM6 6v6h20V6z" fill="currentColor"></path><path d="M26 28h-6a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zm-6-8v6h6v-6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->技术博客<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="技术博客"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M4 24h10v2H4z" fill="currentColor"></path><path d="M4 18h10v2H4z" fill="currentColor"></path><path d="M26 14H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zM6 6v6h20V6z" fill="currentColor"></path><path d="M26 28h-6a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zm-6-8v6h6v-6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->技术博客<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/categories/Linux/1.html" class="link" aria-label="Linux 学习"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Linux 学习<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/friendship.html" class="link" aria-label="友情链接"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42l-1.41-1.42l-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z" fill="currentColor"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42l2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->友情链接<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/about.html" class="link" aria-label="个人简介"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 8a5 5 0 1 0 5 5a5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3z" fill="currentColor"></path><path d="M16 2a14 14 0 1 0 14 14A14.016 14.016 0 0 0 16 2zm-6 24.377V25a3.003 3.003 0 0 1 3-3h6a3.003 3.003 0 0 1 3 3v1.377a11.899 11.899 0 0 1-12 0zm13.992-1.451A5.002 5.002 0 0 0 19 20h-6a5.002 5.002 0 0 0-4.992 4.926a12 12 0 1 1 15.985 0z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->个人简介<!--]--></span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="课程笔记"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M19 10h7v2h-7z" fill="currentColor"></path><path d="M19 15h7v2h-7z" fill="currentColor"></path><path d="M19 20h7v2h-7z" fill="currentColor"></path><path d="M28 5H4a2.002 2.002 0 0 0-2 2v18a2.002 2.002 0 0 0 2 2h24a2.003 2.003 0 0 0 2-2V7a2.002 2.002 0 0 0-2-2zM4 7h11v18H4zm13 18V7h11l.002 18z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->课程笔记<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="课程笔记"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M19 10h7v2h-7z" fill="currentColor"></path><path d="M19 15h7v2h-7z" fill="currentColor"></path><path d="M19 20h7v2h-7z" fill="currentColor"></path><path d="M28 5H4a2.002 2.002 0 0 0-2 2v18a2.002 2.002 0 0 0 2 2h24a2.003 2.003 0 0 0 2-2V7a2.002 2.002 0 0 0-2-2zM4 7h11v18H4zm13 18V7h11l.002 18z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->课程笔记<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/categories/数字系统设计基础/1.html" class="link" aria-label="数字系统设计基础"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->数字系统设计基础<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/categories/CV/1.html" class="link" aria-label="CV"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CV<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/categories/OS/1.html" class="link" aria-label="OS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->OS<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="技术博客"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M4 24h10v2H4z" fill="currentColor"></path><path d="M4 18h10v2H4z" fill="currentColor"></path><path d="M26 14H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zM6 6v6h20V6z" fill="currentColor"></path><path d="M26 28h-6a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zm-6-8v6h6v-6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->技术博客<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="技术博客"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M4 24h10v2H4z" fill="currentColor"></path><path d="M4 18h10v2H4z" fill="currentColor"></path><path d="M26 14H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zM6 6v6h20V6z" fill="currentColor"></path><path d="M26 28h-6a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zm-6-8v6h6v-6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->技术博客<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/categories/Linux/1.html" class="link" aria-label="Linux 学习"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Linux 学习<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/friendship.html" class="link" aria-label="友情链接"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42l-1.41-1.42l-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z" fill="currentColor"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42l2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->友情链接<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/about.html" class="link" aria-label="个人简介"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 8a5 5 0 1 0 5 5a5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3z" fill="currentColor"></path><path d="M16 2a14 14 0 1 0 14 14A14.016 14.016 0 0 0 16 2zm-6 24.377V25a3.003 3.003 0 0 1 3-3h6a3.003 3.003 0 0 1 3 3v1.377a11.899 11.899 0 0 1-12 0zm13.992-1.451A5.002 5.002 0 0 0 19 20h-6a5.002 5.002 0 0 0-4.992 4.926a12 12 0 1 1 15.985 0z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->个人简介<!--]--></span></span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><!----><!--[--><main class="page-container"><aside class="series-container"><!--[--><!--]--></aside><div class="page-content"><h1 class="page-title">Lab 3：进程调度</h1><div class="page-info" data-v-8f93817e><span class="xicon-container left" data-v-8f93817e><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->byml<!--]--></span></span><span class="xicon-container left" data-v-8f93817e><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2025-04-16<!--]--></span></span><span class="xicon-container left" data-v-8f93817e><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><!--[--><a href="/categories/OS/1.html" class="page-info-link" data-v-8f93817e>OS</a><!--]--><!--]--></span></span><!----><!----></div><div class="theme-reco-md-content"><div><h2 id="lab-3-进程调度" tabindex="-1"><a class="header-anchor" href="#lab-3-进程调度"><span>Lab 3：进程调度</span></a></h2><h3 id="进程切换" tabindex="-1"><a class="header-anchor" href="#进程切换"><span>进程切换</span></a></h3><p>在状态机视角下，进程切换的本质是状态机的切换。对于用户程序来说，进程切换是无感知的。 󱜸 一个完整的状态机具体会包含哪些元素？ 完整的状态机被存储在 PCB 块中，一个简易的 PCB 块包含了下面这些元素：</p><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c" data-title="c"><pre class="language-c"><code><span class="line"><span class="token keyword">struct</span> <span class="token class-name">ProcessTable</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">uint32_t</span> stack<span class="token punctuation">[</span>MAX_STACK_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 程序栈</span></span>
<span class="line">    <span class="token keyword">struct</span> <span class="token class-name">StackFrame</span> regs<span class="token punctuation">;</span> <span class="token comment">// 所有寄存器</span></span>
<span class="line">    <span class="token class-name">uint32_t</span> stackTop<span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">uint32_t</span> prevStackTop<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> state<span class="token punctuation">;</span>     <span class="token comment">// 程序运行状态，包括 Running, Runnable, Blocked, Dead</span></span>
<span class="line">    <span class="token keyword">int</span> timeCount<span class="token punctuation">;</span> <span class="token comment">// 运行时间计数，用于调度</span></span>
<span class="line">    <span class="token keyword">int</span> sleepTime<span class="token punctuation">;</span> <span class="token comment">// 挂起时间计数，用于阻塞</span></span>
<span class="line">    <span class="token class-name">uint32_t</span> pid<span class="token punctuation">;</span>  <span class="token comment">// 进程号</span></span>
<span class="line">    <span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>󱜸 一个完整的进程切换流程是怎么样的？</p><ol><li>程序 1 发起中断/时钟中断，进入内核态 <ul><li>CPU 访问 TSS 表，获取 SS0 和 ESP0，赋值给对应寄存器</li><li>CPU 切换至内核态，将 <code>SS</code> 和 <code>ESP</code> 压入内核栈</li><li>CPU 将 <code>EFLAGES</code>、<code>CS</code>、<code>EIP</code> 依次加入内核态的栈</li><li>CPU 根据 IDT 跳转到中断处理程序所在地址</li></ul></li></ol><blockquote><p>此时完整的内核栈： <code>SS → ESP → EFLAGS → CS → EIP</code></p></blockquote><ol start="2"><li>进入进程调度函数 <ul><li>操作系统内核保存当前进程的更多上下文信息 <ul><li>向栈顶压入中断号和错误码</li><li><code>pushal</code>：将 CPU 寄存器压入内核态栈</li><li>依次将 <code>ds</code>、<code>es</code>、<code>fs</code>、<code>gs</code> 选择子压入内核态栈</li></ul></li></ul></li></ol><blockquote><p>此时完整的内核栈： <code>SS → ESP → EFLAGS → CS → EIP → IRQ → ERROR_CODE → CPU 寄存器 → DS → ES → FS → GS</code></p></blockquote><ol start="3"><li>进程调度 <ul><li>通过调度算法选择/更新进程状态 <ul><li>对于 <code>BLOCKED</code> 进程，更新其状态</li><li>对于 <code>RUNNING</code> 进程，判断是否应当切换进程</li></ul></li><li>切换到选定的进程 <ul><li>通过修改 <code>ESP</code>，从进程 1 的内核栈切换到进程 2 的内核栈 <ul><li>两个进程的内核栈在形式上是完全相同的</li></ul></li><li>修改 TSS 表的 SS0 和 ESP0，使得下次中断进入进程 2 的内核栈</li><li>从进程 2 的内核栈恢复上下文 <ul><li>依次弹出 <code>gs</code>、<code>fs</code>、<code>es</code>、<code>ds</code></li><li><code>popal</code>：将 CPU 寄存器赋值</li><li><code>addl $8, %esp</code>：跳过 <code>ERROR_CODE</code> 和 <code>IRQ</code> 信息</li><li><code>iret</code></li></ul></li></ul></li></ul></li></ol><blockquote><p>此时完整的内核栈： <code>SS → ESP → EFLAGS → CS → EIP</code></p></blockquote><ol start="4"><li>切换到新进程的用户态 <ul><li>CPU 依次从内核中弹出并赋值 <code>EIP</code>、<code>CS</code>、<code>EFLAGS</code>、<code>ESP</code>、<code>SS</code></li><li>CPU 切换回用户态执行进程 2 的代码</li></ul></li></ol><h3 id="进程创建" tabindex="-1"><a class="header-anchor" href="#进程创建"><span>进程创建</span></a></h3><p>󱜸 进程的初始状态是什么？ 根据进程切换的流程，在被切换时进程应处于内核态、堆栈完整的时刻。进程的初始状态正是如此：内核态栈指针指向完整的内核栈。以如下内核栈为例：</p><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c" data-title="c"><pre class="language-c"><code><span class="line"><span class="token keyword">struct</span> <span class="token class-name">StackFrame</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">uint32_t</span> gs<span class="token punctuation">,</span> fs<span class="token punctuation">,</span> es<span class="token punctuation">,</span> ds<span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">uint32_t</span> edi<span class="token punctuation">,</span> esi<span class="token punctuation">,</span> ebp<span class="token punctuation">,</span> xxx<span class="token punctuation">,</span> ebx<span class="token punctuation">,</span> edx<span class="token punctuation">,</span> ecx<span class="token punctuation">,</span> eax<span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">uint32_t</span> irq<span class="token punctuation">,</span> error<span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">uint32_t</span> eip<span class="token punctuation">,</span> cs<span class="token punctuation">,</span> eflags<span class="token punctuation">,</span> esp<span class="token punctuation">,</span> ss<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结构体变量的地址实际上是栈顶地址：</p><ul><li><code>&amp;pcb[valid].regs = &amp;pcb[valid].regs.gs = 0x00108a48</code></li><li><code>&amp;pcb[valid].regs.ss = 0x00108a90</code></li></ul><figure><img src="/assets/image-23-BMFMIhHs.png" alt="" title="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>因此，只需将内核栈栈顶指针指向内核栈结构体的地址，即可指向完整内核栈。 󱜸 fork 系统调用应该如何实现？ fork 系统调用需要确保拷贝了程序的完整状态机，应包含寄存器和内存两部分。如果使用完整复制内存的方法，需要确保复制完成后才设置子进程状态为 <code>RUNNABLE</code>，否则在允许嵌套中断后可能出现未复制完整就开始运行的错误</p><h3 id="嵌套中断" tabindex="-1"><a class="header-anchor" href="#嵌套中断"><span>嵌套中断</span></a></h3><p>嵌套中断是在进程 1 处于内核态时，产生了新的时钟中断等其他中断的情况。此时需要考虑的是进程原来的内核态栈指针应如何处理：</p><ul><li>为了保证处理完中断后可以继续执行，原来的栈指针需要保存</li><li>为了保证新的中断能被正确处理，新的栈应当是进程切换的结构，指针也要进行相应的调整</li></ul><p>使用中间变量暂存的方法即可处理。但由于为单个 PCB 分配的 StackFrame 空间只够一次进程切换，新中断实际上存储在了 PCB 的栈空间中（自然上溢到栈空间了）。</p></div></div><footer class="page-meta"><!----><!----></footer><nav class="page-nav"><p class="hasPrev hasNext inner"><span class="page-nav-item prev"> ← Lab 2：从内核到用户</span><span class="page-nav-item next">Lab 4：并发控制 → </span></p></nav><!----></div><div class="page-catalog-container"><h5 class="tip">目录</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/OS/Lab%203%EF%BC%9A%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6.html#lab-3-进程调度" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Lab 3：进程调度"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Lab 3：进程调度<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/OS/Lab%203%EF%BC%9A%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6.html#进程切换" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="进程切换"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->进程切换<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/OS/Lab%203%EF%BC%9A%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6.html#进程创建" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="进程创建"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->进程创建<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/OS/Lab%203%EF%BC%9A%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6.html#嵌套中断" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="嵌套中断"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->嵌套中断<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></main><!--]--></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-cWQpaTe1.js" defer></script>
  </body>
</html>
